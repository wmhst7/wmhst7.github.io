<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="wmhst7&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="wmhst7&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="wmhst7">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>wmhst7's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">wmhst7's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/11/%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wmhst7">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wmhst7's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/11/%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/" class="post-title-link" itemprop="url">æ‹¼éŸ³è¾“å…¥æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-11 22:11:52" itemprop="dateCreated datePublished" datetime="2020-04-11T22:11:52+08:00">2020-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-12 17:05:12" itemprop="dateModified" datetime="2020-04-12T17:05:12+08:00">2020-04-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ‹¼éŸ³è¾“å…¥æ³•"><a href="#æ‹¼éŸ³è¾“å…¥æ³•" class="headerlink" title="æ‹¼éŸ³è¾“å…¥æ³•"></a>æ‹¼éŸ³è¾“å…¥æ³•</h1><h2 id="ç®—æ³•çš„åŸºæœ¬æ€è·¯ä¸å®ç°"><a href="#ç®—æ³•çš„åŸºæœ¬æ€è·¯ä¸å®ç°" class="headerlink" title="ç®—æ³•çš„åŸºæœ¬æ€è·¯ä¸å®ç°"></a>ç®—æ³•çš„åŸºæœ¬æ€è·¯ä¸å®ç°</h2><h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>è¾“å…¥ä¸€ä¸ªæ‹¼éŸ³ä¸²ï¼Œè¾“å‡ºæœ€æœ‰å¯èƒ½çš„ä¸€ä¸ªæ±‰å­—ä¸²ï¼Œå³æ‹¼éŸ³è¾“å…¥æ³•ã€‚</p>
<p>ä¾‹å¦‚ï¼šè¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qing hua da xue</span><br></pre></td></tr></table></figure>

<p>è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¸…åå¤§å­¦</span><br></pre></td></tr></table></figure>

<h3 id="éšé©¬å°”ç§‘å¤«æ¨¡å‹-HMM"><a href="#éšé©¬å°”ç§‘å¤«æ¨¡å‹-HMM" class="headerlink" title="éšé©¬å°”ç§‘å¤«æ¨¡å‹(HMM)"></a>éšé©¬å°”ç§‘å¤«æ¨¡å‹(HMM)</h3><p>å¯¹äºä¸€ä¸ªè¾“å…¥æ‹¼éŸ³ä¸²ï¼Œæ¯ä¸ªæ‹¼éŸ³éƒ½å¯èƒ½æœ‰å¤šä¸ªæ±‰å­—å¯¹åº”ã€‚</p>
<img src="/2020/04/11/%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/../../Intro_to_AI/PinYin/æ‹¼éŸ³è¾“å…¥æ³•.assets/image-20200412012929047.png" alt="image-20200412012929047" style="zoom:50%;">

<p>å› æ­¤æˆ‘ä»¬éœ€è¦ä»è¿™äº›æ±‰å­—çš„ç»„åˆä¸­é€‰å–æœ€ä¼˜çš„ä¸€ä¸ªã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”±è¯­æ–™åº“ï¼ˆå¤§é‡çš„å¥å­ï¼‰ç»è¿‡å¤„ç†è®¡æ•°å¾—åˆ°æ¯ä¸ªæ±‰å­—å‡ºç°çš„æ¦‚ç‡ä»¥åŠä¸¤ä¸ªæ±‰å­—åŒæ—¶ç›¸é‚»å‡ºç°çš„æ¦‚ç‡ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥è®¡æ•°å¾—åˆ°æŸä¸ªå¥å­å‡ºç°çš„æ¦‚ç‡ï¼Œå› æ­¤è¿™ä¸ªæ¨¡å‹å¯ä»¥å½“åšä¸€ä¸ªéšé©¬å°”ç§‘å¤«æ¨¡å‹ï¼Œæ¯ä¸ªæ±‰å­—ä¸²å°±æ˜¯å®ƒçš„ä¸€ä¸ªçŠ¶æ€ã€‚</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯ä½¿è¿™ä¸ªä¸²çš„æ¦‚ç‡è¾¾åˆ°æœ€å¤§.<br>$$<br>max\prod_{i=1}^{n} P(w_i|w_{i-1})\<br>P(w_i|w_{i-1}) = \frac{Count(w_{i-1}w_i)}{Count(w_{i-1})}<br>$$</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸ºäº†ç…§é¡¾åˆ°äºŒå…ƒç»„å‡ºç°æ¬¡æ•°ä¸º0çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¦‚ç‡åšå¹³æ»‘å¤„ç†ã€‚<br>$$<br>P(w_i|w_{i-1}) = \lambda \frac{Count(w_{i-1}w_i)}{Count(w_{i-1})} + (1 - \lambda)P(w_{i})<br>$$<br>å…¶ä¸­$\lambda$æ˜¯ä¸€ä¸ªäººä¸ºè§„å®šçš„å‚æ•°ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–æˆ‘è¿˜å¯¹å‡ºç°åœ¨å¥é¦–çš„å­—ç¬¦è¿›è¡Œäº†ç»Ÿè®¡ï¼Œå¯¹å¥é¦–å­—ç¬¦æ¦‚ç‡è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<h3 id="ç»´ç‰¹æ¯”ç®—æ³•-Viterbi-Algorithm"><a href="#ç»´ç‰¹æ¯”ç®—æ³•-Viterbi-Algorithm" class="headerlink" title="ç»´ç‰¹æ¯”ç®—æ³•(Viterbi Algorithm)"></a>ç»´ç‰¹æ¯”ç®—æ³•(Viterbi Algorithm)</h3><p>è¦æ±‚è§£è¿™ä¸ªHMMé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ç»´ç‰¹æ¯”ç®—æ³•ã€‚</p>
<p>ç»´ç‰¹æ¯”ç®—æ³•æ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œä¸‹å›¾æ¯ä¸€å±‚çš„èŠ‚ç‚¹éƒ½ä¸ç›¸é‚»çš„å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ç›¸è¿æ¥ï¼Œä¸”æ±‰å­—çš„äºŒå…ƒæ¦‚ç‡å¯ä»¥çœ‹åšä¸¤èŠ‚ç‚¹çš„è·ç¦»ï¼Œæœ¬è´¨é—®é¢˜æ˜¯æ±‚è§£èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€é•¿è·¯å¾„ã€‚</p>
<img src="/2020/04/11/%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/../../Intro_to_AI/PinYin/æ‹¼éŸ³è¾“å…¥æ³•.assets/image-20200412012947671.png" alt="image-20200412012947671" style="width:90%;">

<p>æˆ‘ä»¬é¦–å…ˆå¯¹æ¦‚ç‡å–å¯¹æ•°ï¼Œå°†æ¦‚ç‡çš„ç§¯å˜ä¸ºæ¦‚ç‡å¯¹æ•°çš„å’Œï¼Œç„¶åé€å±‚åº”ç”¨ç»´ç‰¹æ¯”ç®—æ³•ã€‚</p>
<p>å®¹æ˜“çœ‹å‡ºï¼Œç”±äºåªæœ‰ç›¸é‚»å±‚æœ‰è¾¹ï¼Œæˆ‘ä»¬ä¸éœ€è¦éå†æ‰€æœ‰çš„è·¯å¾„ï¼Œå¯¹äºå½“å‰å±‚çš„æŸä¸ªèŠ‚ç‚¹ï¼Œåªéœ€å¯¹å‰ä¸€å±‚çš„èŠ‚ç‚¹è¿›è¡Œéå†ï¼Œæ‰¾åˆ°å‰ä¸€å±‚ä¸­åˆ°å½“å‰èŠ‚ç‚¹è·ç¦»ä¸å…¶åˆ°èµ·ç‚¹è·ç¦»ä¹‹å’Œæœ€å¤§çš„èŠ‚ç‚¹å³å¯ã€‚</p>
<h3 id="äºŒå…ƒå­—æ¨¡å‹çš„åˆæ­¥å®ç°"><a href="#äºŒå…ƒå­—æ¨¡å‹çš„åˆæ­¥å®ç°" class="headerlink" title="äºŒå…ƒå­—æ¨¡å‹çš„åˆæ­¥å®ç°"></a>äºŒå…ƒå­—æ¨¡å‹çš„åˆæ­¥å®ç°</h3><p>æˆ‘å®šä¹‰äº†ä¸€ä¸ªèŠ‚ç‚¹ç±»</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, ch, pr, prev)</span>:</span></span><br><span class="line">        self.ch = ch</span><br><span class="line">        self.pr = pr</span><br><span class="line">        self.prev = prev</span><br></pre></td></tr></table></figure>

<p>ä¹‹åé€å±‚éå†å³å¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(pylist, lam=<span class="number">0.99</span>)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> py <span class="keyword">in</span> pylist:</span><br><span class="line">        <span class="keyword">if</span> py <span class="keyword">not</span> <span class="keyword">in</span> pch:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">'Wrong piyin'</span>]</span><br><span class="line">    nodes = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># first layer</span></span><br><span class="line">    nodes.append([node(x, fir_p.get(x, <span class="number">-25.0</span>), <span class="literal">None</span>) <span class="keyword">for</span> x <span class="keyword">in</span> pch[pylist[<span class="number">0</span>]]])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># middle layers</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pylist)):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        nodes.append([node(x, <span class="number">0</span>, <span class="literal">None</span>) <span class="keyword">for</span> x <span class="keyword">in</span> pch[pylist[i]]])</span><br><span class="line">        <span class="keyword">for</span> nd <span class="keyword">in</span> nodes[i]:</span><br><span class="line">            nd.pr = nodes[i - <span class="number">1</span>][<span class="number">0</span>].pr + getpr(nodes[i - <span class="number">1</span>][<span class="number">0</span>].ch, nd.ch, lam)</span><br><span class="line">            nd.prev = nodes[i - <span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> prend <span class="keyword">in</span> nodes[i - <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">if</span> prend.pr + getpr(prend.ch, nd.ch, lam) &gt; nd.pr:</span><br><span class="line">                    nd.pr = prend.pr + getpr(prend.ch, nd.ch, lam)</span><br><span class="line">                    nd.prev = prend</span><br><span class="line"></span><br><span class="line">    <span class="comment"># back propagation</span></span><br><span class="line">    nd = max(nodes[<span class="number">-1</span>], key=<span class="keyword">lambda</span> x: x.pr)</span><br><span class="line">    chs = []</span><br><span class="line">    <span class="keyword">while</span> nd <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        chs.append(nd.ch)</span><br><span class="line">        nd = nd.prev</span><br><span class="line">    <span class="keyword">return</span> list(reversed(chs))</span><br></pre></td></tr></table></figure>

<p>éå†å®Œååœ¨æœ€åä¸€å±‚æ‰¾åˆ°æ¦‚ç‡æœ€å¤§çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå›æº¯ä¾¿å¯ä»¥æ‰¾åˆ°ä¸€æ¡æ±‰å­—ä¸²ï¼ˆå·²ç»è®°å½•äº†æ¯ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</p>
<h2 id="å®éªŒæ•ˆæœ"><a href="#å®éªŒæ•ˆæœ" class="headerlink" title="å®éªŒæ•ˆæœ"></a>å®éªŒæ•ˆæœ</h2><table>
<thead>
<tr>
<th align="center">æµ‹è¯•é›†</th>
<th align="center">å¥å­æ•°</th>
<th align="center">å­—æ•°</th>
<th align="center">å¥æ­£ç¡®ç‡</th>
<th align="center">å­—æ­£ç¡®ç‡</th>
</tr>
</thead>
<tbody><tr>
<td align="center">test1</td>
<td align="center">797</td>
<td align="center">7471</td>
<td align="center">27.85%</td>
<td align="center">76.68%</td>
</tr>
<tr>
<td align="center">test2</td>
<td align="center">334</td>
<td align="center">3363</td>
<td align="center">31.14%</td>
<td align="center">79.54%</td>
</tr>
</tbody></table>
<p>æ­£ç¡®çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ni zai gan shen me a tuan zhang</span><br><span class="line">ä½ åœ¨å¹²ä»€ä¹ˆå•Šå›¢é•¿</span><br><span class="line">jing ji jian she he wen hua jian she tu chu le shi ba da jing shen de zhong yao xing</span><br><span class="line">ç»æµå»ºè®¾å’Œæ–‡åŒ–å»ºè®¾çªå‡ºäº†åå…«å¤§ç²¾ç¥çš„é‡è¦æ€§</span><br><span class="line">zhong guo pin kun di qu shi xian wang luo fu wu quan fu gai</span><br><span class="line">ä¸­å›½è´«å›°åœ°åŒºå®ç°ç½‘ç»œæœåŠ¡å…¨è¦†ç›–</span><br><span class="line">ren gong zhi neng dao lun hen you yi si</span><br><span class="line">äººå·¥æ™ºèƒ½å¯¼è®ºå¾ˆæœ‰æ„æ€</span><br><span class="line">mou ke xue de chao dian ci pao</span><br><span class="line">æŸç§‘å­¦çš„è¶…ç”µç£ç‚®</span><br><span class="line">zhong guo gong chan dang yuan de chu xin he shi ming shi wei zhong guo ren min mou xing fu wei zhong hua min zu mou fu xing</span><br><span class="line">ä¸­å›½å…±äº§å…šå‘˜çš„åˆå¿ƒå’Œä½¿å‘½æ˜¯ä¸ºä¸­å›½äººæ°‘è°‹å¹¸ç¦ä¸ºä¸­åæ°‘æ—è°‹å¤å…´</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bei jing shi yi ge mei li de cheng shi</span><br><span class="line">åŒ—äº¬å¸‚ä¸€ä¸ªç¾ä¸½çš„åŸå¸‚</span><br><span class="line">qing wa gua gua gua</span><br><span class="line">é’ç“¦åˆ®åˆ®åˆ®</span><br><span class="line">ni men que ding zhe xie qi guai de ju zi neng zheng que shu chu</span><br><span class="line">ä½ ä»¬ç¡®å®šè¿™äº›å¥‡æ€ªçš„æ©˜å­èƒ½æ­£ç¡®è¾“å‡º</span><br><span class="line">ai yin si tan ti chu le guang yi xiang dui lun</span><br><span class="line">çˆ±å› æ–¯å¦æå‡ºäº†å¹¿ç›Šç›¸å¯¹è®º</span><br><span class="line">zheng he xia xi yang wei qing hua ci de xun su jue qi ti gong le li shi qi ji</span><br><span class="line">æ•´åˆä¸‹è¥¿æ´‹ä¸ºæ¸…åæ¬¡çš„è¿…é€Ÿå´›èµ·æä¾›äº†å†å²å¥‘æœº</span><br><span class="line">xun xun mi mi leng leng qing qing qi qi can can qi qi</span><br><span class="line">å¯»å¯»è§…è§…å†·å†·æ¸…æ¸…æ°”å…¶ç¿ç¿å…¶å¦»</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯ä»¥çœ‹åˆ°ç”±äºæ²¡æœ‰è¯åº“ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚</p>
</li>
<li><p>æ–°é—»è¯­æ–™å¯¼è‡´é’ç“¦å°çš„å‡ºç°æ¬¡æ•°è¿œè¿œè¶…è¿‡é’è›™ï¼Œå¯ä»¥çœ‹å‡ºè¯­æ–™çš„é‡è¦æ€§ã€‚</p>
</li>
</ul>
<h2 id="å‚æ•°å¯¹æ¯”ä¸æ€§èƒ½åˆ†æ"><a href="#å‚æ•°å¯¹æ¯”ä¸æ€§èƒ½åˆ†æ" class="headerlink" title="å‚æ•°å¯¹æ¯”ä¸æ€§èƒ½åˆ†æ"></a>å‚æ•°å¯¹æ¯”ä¸æ€§èƒ½åˆ†æ</h2><p>å¯ä»¥è°ƒæ•´å¹³æ»‘ç‡å‚æ•°</p>
<table>
<thead>
<tr>
<th align="center">test2</th>
<th align="center">$\lambda=0.9 $</th>
<th align="center">$\lambda=0.95$</th>
<th align="center">$\lambda=0.99$</th>
<th align="center">$\lambda=0.999$</th>
<th align="center">$\lambda=0.9999$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å¥æ­£ç¡®ç‡%</td>
<td align="center">30.24</td>
<td align="center">30.54</td>
<td align="center">30.54</td>
<td align="center">30.54</td>
<td align="center">30.54</td>
</tr>
<tr>
<td align="center">å­—æ­£ç¡®ç‡%</td>
<td align="center">79.54</td>
<td align="center">79.36</td>
<td align="center">79.48</td>
<td align="center">79.66</td>
<td align="center">79.69</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">test2</th>
<th align="center">$\lambda=0.6 $</th>
<th align="center">$\lambda=0.7 $</th>
<th align="center">$\lambda=0.8 $</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å¥æ­£ç¡®ç‡%</td>
<td align="center">26.05</td>
<td align="center">27.84</td>
<td align="center">29.34</td>
</tr>
<tr>
<td align="center">å­—æ­£ç¡®ç‡%</td>
<td align="center">78.32</td>
<td align="center">79.07</td>
<td align="center">79.6</td>
</tr>
</tbody></table>
<h2 id="æ”¹è¿›æ–¹æ¡ˆ"><a href="#æ”¹è¿›æ–¹æ¡ˆ" class="headerlink" title="æ”¹è¿›æ–¹æ¡ˆ"></a>æ”¹è¿›æ–¹æ¡ˆ</h2><h3 id="ä¸‰å…ƒå­—æ¨¡å‹"><a href="#ä¸‰å…ƒå­—æ¨¡å‹" class="headerlink" title="ä¸‰å…ƒå­—æ¨¡å‹"></a>ä¸‰å…ƒå­—æ¨¡å‹</h3><p>å¯ä»¥è€ƒè™‘æ”¹è¿›äºŒå…ƒå­—æ¨¡å‹è‡³ä¸‰å…ƒå­—æ¨¡å‹ï¼Œè¿™æ ·æˆ‘ä»¬éœ€è¦å…ˆç»Ÿè®¡ä¸‰å…ƒç»„çš„å‡ºç°æ¦‚ç‡ï¼Œç„¶åæ”¹è¿›ç»´ç‰¹æ¯”ç®—æ³•çš„å®ç°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è€ƒè™‘åœ¨äºŒå…ƒæ¦‚ç‡çš„åŸºç¡€ä¹˜ä¸Šä¸‰å…ƒç»„çš„ä¿¡æ¯ï¼š<br>$$<br>P(w_3|w_1, w_2) = \frac{Count(w_1w_2w_3)}{Count(w_1w_2)}P(w_3|w_2)<br>$$</p>
<h5 id="å®éªŒæ•ˆæœ-1"><a href="#å®éªŒæ•ˆæœ-1" class="headerlink" title="å®éªŒæ•ˆæœ"></a>å®éªŒæ•ˆæœ</h5><table>
<thead>
<tr>
<th align="center">æµ‹è¯•é›†</th>
<th align="center">æ­£ç¡®å¥å­/å¥å­æ•°</th>
<th align="center">æ­£ç¡®å­—æ•°/å­—æ•°</th>
<th align="center">å¥æ­£ç¡®ç‡</th>
<th align="center">å­—æ­£ç¡®ç‡</th>
</tr>
</thead>
<tbody><tr>
<td align="center">test1</td>
<td align="center">342/797</td>
<td align="center">6206/7471</td>
<td align="center">42.91%</td>
<td align="center">83.07%</td>
</tr>
<tr>
<td align="center">test2</td>
<td align="center">175/334</td>
<td align="center">2951/3363</td>
<td align="center">52.4%</td>
<td align="center">86.68%</td>
</tr>
</tbody></table>
<p>ä¸€äº›æ¯”äºŒå…ƒè¾“å…¥æ³•æœ‰æ˜æ˜¾æå‡çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">zheng he xia xi yang wei qing hua ci de xun su jue qi ti gong le li shi qi ji</span><br><span class="line">éƒ‘å’Œä¸‹è¥¿æ´‹ä¸ºé’èŠ±ç“·çš„è¿…é€Ÿå´›èµ·æä¾›äº†å†å²å¥‘æœº</span><br><span class="line">qu nan ji chi mi fen kai you bu</span><br><span class="line">å»å—æåƒç±³ç²‰å¼€ä¼˜æ­¥</span><br><span class="line">tan tan jian jian neng neng fou fou ding ding lv</span><br><span class="line">ç¢³ç¢³é”®é”®èƒ½èƒ½å¦å¦å®šå®šå¾‹</span><br><span class="line">jing zhuang ti you tong xin de xian wei xi bao ceng zu cheng</span><br><span class="line">æ™¶çŠ¶ä½“æœ‰é€šä¿¡çš„çº¤ç»´ç»†èƒå±‚ç»„æˆ</span><br><span class="line">ting che zuo ai feng lin wan</span><br><span class="line">åœè½¦åçˆ±æ«æ—æ™š</span><br><span class="line">xiao ji ji ji ji ji</span><br><span class="line">å°é¸¡å½å½å½å½</span><br><span class="line">chi ma ma xiang</span><br><span class="line">åƒå˜›å˜›é¦™</span><br></pre></td></tr></table></figure>

<p>æ™¶çŠ¶ä½“ã€é’èŠ±ç“·ç­‰ä¸‰å­—çŸ­è¯­åœ¨åŠ å…¥ä¸‰å…ƒä¿¡æ¯åèƒ½å¾ˆå®¹æ˜“çš„åˆ†è¾¨ï¼Œå¯ä»¥çœ‹åˆ°æå‡çš„æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li>è¯­æ–™åº“å¯¹ç®—æ³•è¡¨ç°çš„å½±å“æ˜¯å†³å®šæ€§çš„ï¼Œæœ¬æ¬¡è®­ç»ƒæ‰€ç”¨çš„æ˜¯æ–°æµªæ–°é—»æ–‡æœ¬æ•°æ®ï¼Œå› æ­¤æ–°é—»ç”¨è¯æ¯”è¾ƒå¤šï¼Œå¯¹æ–°é—»å¸¸è§å­—è¯çš„åå‘åº¦è¾ƒé«˜ï¼Œå¯¹äºè¯—å¥è¿™ç§æ²¡æœ‰å‡ºç°è¿‡çš„æ–‡æœ¬å¯ä»¥è¯´æ˜¯å®Œå…¨ä¸é€‚åˆçš„ã€‚</li>
<li>æœ¬äººæ‰€ç”¨çš„è¯­æ–™åº“ä¹Ÿæ²¡æœ‰ç»è¿‡ä¸¥æ ¼çš„åˆ†å¥ï¼Œæ˜¯æ ¹æ®æœ‰æ ‡ç‚¹ç¬¦å·å°±æ–­å¥çš„åŸåˆ™æ•´ç†çš„å¥å­è¯­æ–™ï¼Œå› æ­¤å¯èƒ½ä¹Ÿä¼šæœ‰åå·®ã€‚</li>
<li>ç®—æ³•çš„æ•°æ®åº“ä½“ç§¯ååˆ†å¤§ï¼ŒåŠ è½½ä¹Ÿéœ€è¾ƒé•¿æ—¶é—´ï¼Œè¿™åœ¨å®é™…åº”ç”¨ä¸­æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œå¯è§å¯æ”¹è¿›çš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤šã€‚</li>
<li>å¯ä»¥ç»§ç»­å®Œå–„å¤šéŸ³å­—æ”¯æŒï¼Œå¯¹å¤šéŸ³å­—çš„ä¸åŒè¯»éŸ³åˆ†å¼€å¤„ç†ï¼Œå½“ç„¶è¿™éœ€è¦æ ‡è®°å¥½è¯»éŸ³çš„æ–‡æœ¬åº“ï¼Œç°æˆçš„æœ‰pypinyinåº“å¯ç”¨äºæ ‡æ³¨æ‹¼éŸ³ã€‚</li>
</ul>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>æ”¯æŒå‘½ä»¤è¡Œå½¢å¼æä¾›è¾“å…¥æ–‡ä»¶åå’Œè¾“å‡ºæ–‡ä»¶åå¹¶è¿è¡Œç¨‹åº</p>
<p>è¾“å…¥æ–‡ä»¶èŒƒä¾‹(./data/input_example.txt)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yi xi jin ping tong zhi wei zong shu ji de dang zhong yang</span><br><span class="line">zou zhong guo te se she hui zhu yi dao lu</span><br><span class="line">hu lian wang chan ye you ju da qian li</span><br><span class="line">zhong guo pin kun di qu shi xian wang luo fu wu quan fu gai</span><br><span class="line">zou chu qing hua da xue te se de shi jie yi liu da xue dao lu</span><br><span class="line">Ma shao ping lao shi ru shi shuo</span><br><span class="line">Qing hua da xue de ren gong zhi neng dao lun ke cheng shi fen de you qu</span><br><span class="line">huan ying lai dao wang zhe rong yao</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæ–‡ä»¶èŒƒä¾‹(./data/ouput_example.txt)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ä»¥ä¹ è¿‘å¹³åŒå¿—ä¸ºæ€»ä¹¦è®°çš„å…šä¸­å¤®</span><br><span class="line">èµ°ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰é“è·¯</span><br><span class="line">äº’è”ç½‘äº§ä¸šæœ‰å·¨å¤§æ½œåŠ›</span><br><span class="line">ä¸­å›½è´«å›°åœ°åŒºå®ç°ç½‘ç»œæœåŠ¡å…¨è¦†ç›–</span><br><span class="line">èµ°å‡ºæ¸…åå¤§å­¦ç‰¹è‰²çš„ä¸–ç•Œä¸€æµå¤§å­¦é“è·¯</span><br><span class="line">é©¬å°‘å¹³è€å¸ˆå¦‚æ˜¯è¯´</span><br><span class="line">æ¸…åå¤§å­¦çš„äººå·¥æ™ºèƒ½å¯¼è®ºè¯¾ç¨‹ååˆ†çš„æœ‰è¶£</span><br><span class="line">æ¬¢è¿æ¥åˆ°ç‹è€…è£è€€</span><br></pre></td></tr></table></figure>

<h5 id="è¿è¡Œæ–¹æ³•ï¼š"><a href="#è¿è¡Œæ–¹æ³•ï¼š" class="headerlink" title="è¿è¡Œæ–¹æ³•ï¼š"></a>è¿è¡Œæ–¹æ³•ï¼š</h5><p>äºŒå…ƒæ¨¡å‹: python pinyin ../data/input.txt ../data/output.txt</p>
<p>ä¸‰å…ƒæ¨¡å‹: python pinyin3 ../data/input.txt ../data/output.txt</p>
<h5 id="æ¸…åäº‘ç›˜ï¼šhttps-cloud-tsinghua-edu-cn-d-c9542280e3a94b5ebd5c"><a href="#æ¸…åäº‘ç›˜ï¼šhttps-cloud-tsinghua-edu-cn-d-c9542280e3a94b5ebd5c" class="headerlink" title="æ¸…åäº‘ç›˜ï¼šhttps://cloud.tsinghua.edu.cn/d/c9542280e3a94b5ebd5c/"></a>æ¸…åäº‘ç›˜ï¼š<a href="https://cloud.tsinghua.edu.cn/d/c9542280e3a94b5ebd5c/" target="_blank" rel="noopener">https://cloud.tsinghua.edu.cn/d/c9542280e3a94b5ebd5c/</a></h5><h5 id="githubï¼šhttps-github-com-wmhst7-PinYin"><a href="#githubï¼šhttps-github-com-wmhst7-PinYin" class="headerlink" title="githubï¼šhttps://github.com/wmhst7/PinYin"></a>githubï¼š<a href="https://github.com/wmhst7/PinYin" target="_blank" rel="noopener">https://github.com/wmhst7/PinYin</a></h5><p>(githubå› æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œæ— ä¸‰å…ƒæ¨¡å‹æ‰€éœ€æ–‡ä»¶)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/06/%E8%87%AA%E5%B7%B1%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wmhst7">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wmhst7's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/06/%E8%87%AA%E5%B7%B1%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">è‡ªå·±ä»‹ç»</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-06 00:45:56 / Modified: 00:46:32" itemprop="dateCreated datePublished" datetime="2020-04-06T00:45:56+08:00">2020-04-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä½ å¥½"><a href="#ä½ å¥½" class="headerlink" title="ä½ å¥½"></a>ä½ å¥½</h1><h1 id="æˆ‘æ¨å¯çˆ±"><a href="#æˆ‘æ¨å¯çˆ±" class="headerlink" title="æˆ‘æ¨å¯çˆ±"></a>æˆ‘æ¨å¯çˆ±</h1><h1 id="è¯·ç»™æˆ‘ğŸ’°"><a href="#è¯·ç»™æˆ‘ğŸ’°" class="headerlink" title="è¯·ç»™æˆ‘ğŸ’°"></a>è¯·ç»™æˆ‘ğŸ’°</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/06/SeamCarving/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wmhst7">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wmhst7's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/06/SeamCarving/" class="post-title-link" itemprop="url">SeamCarving</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-06 00:28:07 / Modified: 00:34:52" itemprop="dateCreated datePublished" datetime="2020-04-06T00:28:07+08:00">2020-04-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Seam-carving"><a href="#Seam-carving" class="headerlink" title="Seam carving"></a>Seam carving</h1><h3 id="ç®—æ³•åŸç†"><a href="#ç®—æ³•åŸç†" class="headerlink" title="ç®—æ³•åŸç†"></a>ç®—æ³•åŸç†</h3><p>Seam Carving: ä¸PPTçš„å®Œå…¨ä¸€è‡´ï¼Œå…ˆé€šè¿‡å›¾åƒçš„æ¢¯åº¦ä¿¡æ¯å¾—åˆ°å›¾åƒçš„èƒ½é‡åˆ†å¸ƒï¼Œç„¶ååŠ¨æ€è§„åˆ’æ‰¾å‡ºèƒ½é‡æœ€å°çš„è·¯å¾„å¹¶åˆ é™¤ã€‚</p>
<p>å…·ä½“åœ¨å®ç°èƒ½é‡åˆ†å¸ƒæ—¶ï¼Œä¸€å¼€å§‹ä½¿ç”¨äºŒå±‚åµŒå¥—ï¼Œé€Ÿåº¦ä¸æ˜¯å¾ˆå¥½ï¼Œä¹‹åä½¿ç”¨numpyä¸­çš„å·ç§¯å‡½æ•°è¿›è¡Œäº†æ”¹è¿›ï¼Œé€Ÿåº¦ä¸æ•ˆæœéƒ½å¾—åˆ°äº†æå‡ã€‚</p>
<p>Object Removal: åŸºæœ¬æ–¹æ³•ä¸Seam Carvingä¸€è‡´ï¼Œåªæ˜¯éœ€è¦è°ƒæ•´èƒ½é‡åˆ†å¸ƒï¼Œæ¯æ¬¡ä¸ºéœ€è¦å‰ªé™¤çš„åŒºåŸŸè®¾ç½®ä¸€ä¸ªæä½çš„èƒ½é‡å€¼ï¼Œä»è€Œä½¿éœ€è¦å‰ªé™¤çš„åŒºåŸŸæ€»æ˜¯ä¼˜å…ˆè¢«å»é™¤ã€‚</p>
<h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h3><h5 id="1-æ¨ªå‘ç¼©å°"><a href="#1-æ¨ªå‘ç¼©å°" class="headerlink" title="1.æ¨ªå‘ç¼©å°"></a>1.æ¨ªå‘ç¼©å°</h5><center>
<img src="/2020/04/06/SeamCarving/3.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>åŸå›¾
</center>





<img src="/2020/04/06/SeamCarving/33.jpg" alt="aspect_ratio" style="zoom:80%;">

<img src="/2020/04/06/SeamCarving/34.jpg" alt="aspect_ratio" style="zoom:80%;">







<h5 id="2-é•¿å®½æ¯”è°ƒæ•´"><a href="#2-é•¿å®½æ¯”è°ƒæ•´" class="headerlink" title="2.é•¿å®½æ¯”è°ƒæ•´"></a>2.é•¿å®½æ¯”è°ƒæ•´</h5><center>
<img src="/2020/04/06/SeamCarving/3.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>åŸå›¾
</center>



<center>
<img src="/2020/04/06/SeamCarving/36.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>è°ƒæ•´å
</center>







<h5 id="3-ç‰©ä½“æ¶ˆé™¤"><a href="#3-ç‰©ä½“æ¶ˆé™¤" class="headerlink" title="3.ç‰©ä½“æ¶ˆé™¤"></a>3.ç‰©ä½“æ¶ˆé™¤</h5><center>
<img src="/2020/04/06/SeamCarving/4.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>åŸå›¾
</center>





<center>
<img src="/2020/04/06/SeamCarving/mask.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>mask
</center>




<center>
<img src="/2020/04/06/SeamCarving/5.jpg" alt="aspect_ratio" style="zoom:80%;">
<br>å‰ªé™¤å
<br>å¯ä»¥çœ‹å‡ºç”±äºå¤§æµ·çš„é¢œè‰²å·®å¼‚ï¼Œè¿˜æ˜¯å¯ä»¥çœ‹å‡ºä¸è‡ªç„¶çš„ç°è±¡
<br>ä½†æ˜¯è¿œæ™¯çš„å±±å°±æ¯”è¾ƒè‡ªç„¶
</center>







<h3 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h3><ul>
<li><p>ç®—æ³•è¿è¡Œæ¯”è¾ƒæ…¢ï¼Œåœ¨ç¤ºä¾‹å›¾åƒè¿è¡Œæ—¶åˆ‡é™¤ä¸€æ¬¡ï¼ˆone seamï¼‰çš„æ—¶é—´å¤§çº¦1-2ç§’ã€‚</p>
</li>
<li><p>å¯¹äºæœ‰è§„åˆ™å‡ ä½•å›¾åƒçš„å›¾ç‰‡ï¼Œç®—æ³•å¯èƒ½ä¼šä½¿è¿™äº›å‡ ä½•ä¿¡æ¯ä¸¢å¤±ï¼Œè¿˜æ˜¯æœ‰å¯ä»¥æ”¹è¿›çš„åœ°æ–¹çš„ã€‚</p>
</li>
<li><p>ç”±äºæ¯æ¬¡å‰ªé™¤seamä¸Šæœ‰è¿ç»­æ€§çš„è¦æ±‚ï¼Œæ¯æ¬¡å‰ªé™¤çš„çº¿ä¼šæœ‰æ–œç‡çš„é™åˆ¶ï¼Œå¯ä»¥çœ‹åˆ°ç‰©ä½“æ¶ˆé™¤ä¸­çš„ç¤ºä¾‹å°±å› ä¸ºæ–œç‡çš„é™åˆ¶ä¸å¾—ä¸å‰ªé™¤äº†ä¸€äº›ä¸æ”¹ä¸¢å¤±çš„éƒ¨åˆ†ã€‚</p>
</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol>
<li><p><a href="https://zhuanlan.zhihu.com/p/38974520" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/38974520</a></p>
</li>
<li><p>Seam Carving for Content-Aware Image Resizing by Shai Avidan and Ariel Shamir</p>
<p> â€‹    </p>
</li>
</ol>
<h3 id="ä»£ç ï¼ˆé™„ä»¶seam-carving-pyï¼‰"><a href="#ä»£ç ï¼ˆé™„ä»¶seam-carving-pyï¼‰" class="headerlink" title="ä»£ç ï¼ˆé™„ä»¶seam_carving.pyï¼‰"></a>ä»£ç ï¼ˆé™„ä»¶seam_carving.pyï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> skimage <span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.ndimage.filters <span class="keyword">import</span> convolve</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_energy</span><span class="params">(img, r, c)</span>:</span></span><br><span class="line">    <span class="comment"># calculate energy(too slow)</span></span><br><span class="line">    <span class="comment"># energy = np.zeros((r, c)).astype(int)</span></span><br><span class="line">    <span class="comment"># for k in range(3):</span></span><br><span class="line">    <span class="comment">#     for i in range(r):</span></span><br><span class="line">    <span class="comment">#         for j in range(c):</span></span><br><span class="line">    <span class="comment">#             gy = img[i + 1, j, k] - img[i - 1, j, k]</span></span><br><span class="line">    <span class="comment">#             gx = img[i, j + 1, k] - img[i, j - 1, k]</span></span><br><span class="line">    <span class="comment">#             energy[i, j] += abs(gx)</span></span><br><span class="line">    <span class="comment">#             energy[i, j] += abs(gy)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># use filter to accelerate</span></span><br><span class="line">    fri = np.array([</span><br><span class="line">        [<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">1.0</span>],</span><br><span class="line">        [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>],</span><br><span class="line">        [<span class="number">-1.0</span>, <span class="number">-2.0</span>, <span class="number">-1.0</span>],</span><br><span class="line">    ])</span><br><span class="line">    fci = np.array([</span><br><span class="line">        [<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">-1.0</span>],</span><br><span class="line">        [<span class="number">2.0</span>, <span class="number">0.0</span>, <span class="number">-2.0</span>],</span><br><span class="line">        [<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">-1.0</span>],</span><br><span class="line">    ])</span><br><span class="line">    fr, fc = [], []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        fr.append(fri)</span><br><span class="line">        fc.append(fci)</span><br><span class="line">    convolved = np.absolute(convolve(img, fc)) + np.absolute(convolve(img, fr))</span><br><span class="line">    energy = convolved.sum(axis=<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> energy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment"># DP back-track</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_back</span><span class="params">(energy, r, c)</span>:</span></span><br><span class="line">    back = np.zeros((r, c), dtype=int)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, r):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(c):</span><br><span class="line">            <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                index = np.argmin(energy[i - <span class="number">1</span>, j: j + <span class="number">2</span>])</span><br><span class="line">                back[i, j] = j + index</span><br><span class="line">                energy[i, j] += energy[i - <span class="number">1</span>, j + index]</span><br><span class="line">            <span class="keyword">elif</span> j == c - <span class="number">1</span>:</span><br><span class="line">                index = np.argmin(energy[i - <span class="number">1</span>, j - <span class="number">1</span>: j + <span class="number">1</span>])</span><br><span class="line">                back[i, j] = j - <span class="number">1</span> + index</span><br><span class="line">                energy[i, j] += energy[i - <span class="number">1</span>, j - <span class="number">1</span> + index]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                index = np.argmin(energy[i - <span class="number">1</span>, j - <span class="number">1</span>: j + <span class="number">2</span>])</span><br><span class="line">                back[i, j] = j - <span class="number">1</span> + index</span><br><span class="line">                energy[i, j] += energy[i - <span class="number">1</span>, j - <span class="number">1</span> + index]</span><br><span class="line">    <span class="keyword">return</span> back</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">carve_column</span><span class="params">(img)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    print(<span class="string">'carve_column:'</span>, count)</span><br><span class="line">    count += <span class="number">1</span></span><br><span class="line">    r = np.shape(img)[<span class="number">0</span>]</span><br><span class="line">    c = np.shape(img)[<span class="number">1</span>]</span><br><span class="line">    energy = get_energy(img, r, c)</span><br><span class="line">    back = get_back(energy, r, c)</span><br><span class="line">    j = np.argmin(energy[<span class="number">-1</span>])</span><br><span class="line">    delmask = np.ones((r, c), dtype=bool)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(r):</span><br><span class="line">        delmask[r - <span class="number">1</span> - i, j] = <span class="literal">False</span></span><br><span class="line">        j = back[r - <span class="number">1</span> - i, j]</span><br><span class="line">    img = img[delmask].reshape((r, c - <span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">carve_column_obj</span><span class="params">(img, mask = None)</span>:</span></span><br><span class="line">    r = np.shape(img)[<span class="number">0</span>]</span><br><span class="line">    c = np.shape(img)[<span class="number">1</span>]</span><br><span class="line">    energy = get_energy(img, r, c)</span><br><span class="line">    <span class="comment"># Object Removal: change energy map</span></span><br><span class="line">    energy[np.where(mask &gt; <span class="number">0</span>)] *= <span class="number">-1000.0</span></span><br><span class="line">    back = get_back(energy, r, c)</span><br><span class="line">    j = np.argmin(energy[<span class="number">-1</span>])</span><br><span class="line">    delmask = np.ones((r, c), dtype=bool)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(r):</span><br><span class="line">        delmask[r - <span class="number">1</span> - i, j] = <span class="literal">False</span></span><br><span class="line">        j = back[r - <span class="number">1</span> - i, j]</span><br><span class="line">    img = img[delmask].reshape((r, c - <span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line">    mask = mask[delmask].reshape((r, c - <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> img, mask</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">aspect_ratio</span><span class="params">(img, newr, newc)</span>:</span></span><br><span class="line">    img = np.copy(img).astype(<span class="string">'float32'</span>)</span><br><span class="line">    r = np.shape(img)[<span class="number">0</span>]</span><br><span class="line">    c = np.shape(img)[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å¤„ç†å¤šå‰ªé™¤çš„æ–¹å‘</span></span><br><span class="line">    delta = c - newc - r + newr</span><br><span class="line">    num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> delta &gt; <span class="number">0</span>:</span><br><span class="line">        num = r - newr</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(delta):</span><br><span class="line">            img = carve_column(img)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        num = c - newc</span><br><span class="line">        img = img.transpose(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(-delta):</span><br><span class="line">            img = carve_column(img)</span><br><span class="line">        img = img.transpose(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="comment"># äº¤æ›¿å‰ªé™¤</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">        img = carve_column(img)</span><br><span class="line">        img = img.transpose(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        img = carve_column(img)</span><br><span class="line">        img = img.transpose(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">object_removal</span><span class="params">(img, mask)</span>:</span></span><br><span class="line">    img = img.astype(<span class="string">'float32'</span>)</span><br><span class="line">    <span class="keyword">while</span> len(np.where(mask &gt; <span class="number">0</span>)[<span class="number">0</span>]) &gt; <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">'to bo removed:'</span>, len(np.where(mask &gt; <span class="number">0</span>)[<span class="number">0</span>]))</span><br><span class="line">        img, mask = carve_column_obj(img, mask)</span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># aspect ratio adjust</span></span><br><span class="line">    <span class="comment"># img = io.imread('./4.jpg')</span></span><br><span class="line">    <span class="comment"># r = np.shape(img)[0]</span></span><br><span class="line">    <span class="comment"># c = np.shape(img)[1]</span></span><br><span class="line">    <span class="comment"># newr = r</span></span><br><span class="line">    <span class="comment"># newc = c - 100</span></span><br><span class="line">    <span class="comment"># io.imsave('./aspect_ratio.jpg', aspect_ratio(img, newr, newc))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># object removal</span></span><br><span class="line">    img = io.imread(<span class="string">'./4.jpg'</span>)</span><br><span class="line">    mask = io.imread(<span class="string">'./mask.jpg'</span>)</span><br><span class="line">    io.imsave(<span class="string">'./remove_object.jpg'</span>, object_removal(img, mask))</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/06/why/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wmhst7">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wmhst7's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/06/why/" class="post-title-link" itemprop="url">why</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-06 00:12:53 / Modified: 00:13:20" itemprop="dateCreated datePublished" datetime="2020-04-06T00:12:53+08:00">2020-04-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Why-cannot-deploy-new-post-to-my-blog"><a href="#Why-cannot-deploy-new-post-to-my-blog" class="headerlink" title="Why cannot deploy new post to my blog?"></a>Why cannot deploy new post to my blog?</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">wmhst7</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wmhst7</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




  















  

  

  

</body>
</html>
